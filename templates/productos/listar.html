{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/tablas.css') }}">
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Gestión de Productos</h2>
    <a href="{{ url_for('productos.agregar') }}" class="btn btn-success">
        <i class="fas fa-plus"></i> Agregar Producto
    </a>
</div>

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Categoría</th>
                <th>Precio</th>
                <th>Stock</th>
                <th>Talla</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
           {% for producto in productos %}
<tr>
    <td>{{ producto.id }}</td>
    <td>{{ producto.nombre }}</td>
    <td>{{ producto.categoria or 'N/A' }}</td>
    <td>${{ "%.2f"|format(producto.precio) }}</td>
    <td>
        <span class="badge {% if producto.cantidad > 10 %}bg-success{% elif producto.cantidad > 0 %}bg-warning{% else %}bg-danger{% endif %}">
            {{ producto.cantidad }}
        </span>
    </td>
    <td>{{ producto.talla or 'N/A' }}</td>
    <td>
        <a href="{{ url_for('productos.editar', id=producto.id) }}" class="btn btn-sm btn-warning">Editar</a>
        <a href="{{ url_for('productos.eliminar', id=producto.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de eliminar este producto?')">Eliminar</a>
    </td>
</tr>
{% endfor %}

        </tbody>
    </table>
</div>
{% endblock %}
